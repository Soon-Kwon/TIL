# 데이터베이스에서 세션의 의미

## 세션
세션은 데이터베이스에 접속하여 종료하기까지의 기간을 의미하고 이 기간 동안에 하나 이상의 트랜잭션이 존재하게 된다.
예를들면 dbeaver에서 데이터베이스에 연결해서 접속을 끊지 않으면 한 개의 세션을 형성하고 계속해서 유지하고 있는 것이다. 
반면에 jdbc를 활용해 세션을 만드는 경우 DML을 처리하고 나면 세션을 바로 종료하게 된다. 이는 관리자로 v$session 테이블을 select하면 확인할 수 있다. 
더 나아가 오라클 시퀀스의 currval과 nextval을 사용할 때 세션마다 currval이 다르다. 또한 nextval 을 수행하지 않고 currval을 수행하면 오류가 발생한다. 
예를들면 A테이블을 사용하는 B세션에서 nextval 수행후 2->3 , currval  = 3 이면 , C세션에서 currval을 최초로 수행시 currval의 값을 구할 수 없고 
nextval 수행을 하면 3->4가 되고, nextval 호출이후에는  currval도 수행가능해져서 4가 된다. 

## 읽기일관성, LOCK, HANG
읽기 일관성은 특정 세션에서 데이터를 변경 확정하기 전에 본래의 데이터를 보여준다. 
이는 변경을 시도한 세션에서 commit이나 rollback 하기 전까지를 말한다. 
또한 특정 세션에서 조작중인 데이터를 다른 세션에서 조작하려고 하면 LOCK 으로 인해 작업이 수행되지 않고 대기 상태(HANG)로 빠진다.
예를 들어 세션 A에서 update문을 수행하고 세션 B에서 같은 데이터를 조작하려고 하면 화면이 멈춘 듯 아무런 동작이 일어나지 않는다.
